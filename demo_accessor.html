<!DOCTYPE html>
<html>
<body>

<h2>Cross Domain Cookie Demo with all in one Lib</h2>
<h3 id = "hostname"></h3>

<p></p>

<p>Cookies from other site</p>
<input type="button" onClick = "getCookieUsingLib()" value = "Get Cookies using accessor">
<br>

<textarea id="cookieView" rows="7" cols="60" ></textarea>

<br><br>
<p>Enter New Cookies Below</p>
<textarea id="cookieInput" rows="2" cols="60"></textarea>
<br>
<input type="button" onClick = "setCookies()" value = "Set Cookies using corsService">

</body>
</html>
<!-- 
  after including script below, the following functions are available:
  getAllCookiesRaw()
  getCookie(name)
  setCookie(name, value)
 -->
<script type="text/javascript" src = "https://www.x-r-c.com/corsAccessor.js"></script>
<script>
document.getElementById("hostname").innerHTML = "host name = " + window.location.hostname + ":" + window.location.port;
let cookieView = document.getElementById("cookieView");
let cookieInput = document.getElementById("cookieInput")


async function getCookieUsingLib() {
  let c = await getAllCookiesRaw();
  cookieView.value = c;
}

function setCookieUsingLib() {
  cookieAccessor.postMessage(JSON.stringify({method: "set", data: cookieInput.value}), "*");
}


</script>
